diff --git a/CMakeLists.txt b/CMakeLists.txt
index e8a3771..2edddc4 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -132,7 +132,7 @@ set(HEYOKA_PY_INSTALL_PATH "" CACHE STRING "heyoka module installation path")
 mark_as_advanced(HEYOKA_PY_INSTALL_PATH)
 
 # pybind11.
-find_package(pybind11 REQUIRED)
+find_package(pybind11 REQUIRED CONFIG)
 if(${pybind11_VERSION} VERSION_LESS "2.6")
     message(FATAL_ERROR "pybind11 >= 2.6 is required, but version ${pybind11_VERSION} was found instead.")
 endif()
diff --git a/heyoka/CMakeLists.txt b/heyoka/CMakeLists.txt
index 306388f..1c1fafe 100644
--- a/heyoka/CMakeLists.txt
+++ b/heyoka/CMakeLists.txt
@@ -26,10 +26,11 @@ Python3_add_library(core MODULE WITH_SOABI
 )
 
 target_link_libraries(core PRIVATE heyoka::heyoka fmt::fmt spdlog::spdlog Boost::boost Boost::serialization)
+target_link_libraries(core PRIVATE "${pybind11_LIBRARIES}")
 if(heyoka_WITH_MPPP)
     target_link_libraries(core PRIVATE mp++::mp++)
 endif()
-target_include_directories(core SYSTEM PRIVATE "${pybind11_INCLUDE_DIR}")
+target_include_directories(core SYSTEM PRIVATE "${pybind11_INCLUDE_DIR}" "${Python3_INCLUDE_DIRS}")
 target_compile_definitions(core PRIVATE "${pybind11_DEFINITIONS}")
 target_compile_options(core PRIVATE
     "$<$<CONFIG:Debug>:${HEYOKA_PY_CXX_FLAGS_DEBUG}>"
